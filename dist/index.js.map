{"version":3,"file":"index.js","sources":["../src/parsers/dice-parsers/StandardDiceParser.ts","../src/parsers/Parser.ts","../src/index.ts"],"sourcesContent":["import type {ParseResultType} from '../../types'\n\nexport const standardDiceParser = (parsedObj: ParseResultType): ParseResultType => {\n  return parsedObj\n}\n","import type {ParseResultType} from '../types'\r\nimport {standardDiceParser} from './dice-parsers/StandardDiceParser'\r\n\r\nconst ALL_TYPES_OF_DICE_REGEX = /(?:\\d+d\\d+)(?:r|rr|x|xo|kh|kl|dh|dl|min|max|even|odd|cs|cf)?(?:>=|<=|>|<|=)?\\d*/gim\r\n\r\nexport const parse = (text: string): ParseResultType => {\r\n  let parsedObj: ParseResultType = {original: text, parsed: text, wasSuccessful: true, matches: [], results: []}\r\n\r\n  try {\r\n    parsedObj.matches = text.match(ALL_TYPES_OF_DICE_REGEX) || []\r\n    parsedObj = standardDiceParser(parsedObj)\r\n\r\n    return parsedObj\r\n  } catch (error) {\r\n    console.error(error)\r\n    parsedObj.wasSuccessful = false\r\n    return parsedObj\r\n  }\r\n}\r\n","import {parse} from './parsers/Parser'\r\n\r\n(async () => {\r\n  const testText = `\r\n    1d2 1d2 1d4 1d6 1d8 1d10 1d12 1d20 1d100 2d20 20d20 200d20\r\n    1d10r1 1d20r<10 1d20rr<3 5d10x10 1d20x<10kh 6d10xo10 5d10xo<8x10cs>=8\r\n    3d10k 4d6k3 2d20kh 3d10kl 4d6kl3 2d20kl 3d6d 4d10d2 3d6dh 4d10min2 4d10max8\r\n    10d20cs20 10d20cs>10 6d10cs>=6 1d100cs<=20 3d6even 5d10cs>=6df=1\r\n    5d10cs>=8x=10 5d10cs>=8x>=9 10d10cs>=8x>=8 10d20cf20 10d20cf>10 6d10cf>=6\r\n    1d100cf<=20 4d6cs6df1 10d10cs>5df1 1d10cs=10df=1 3d6sf<3 3d6ms10\r\n    Ana are 1d6 mere.\r\n    Ion a luat 1d8 slashing dmg de la sapa.\r\n  `\r\n  const result = parse(testText)\r\n  console.log(result)\r\n})()\r\n\r\nexport { }\r\n"],"names":["standardDiceParser","parsedObj","ALL_TYPES_OF_DICE_REGEX","parse","text","error","result"],"mappings":"AAEa,MAAAA,IAAqB,CAACC,MAC1BA,GCAHC,IAA0B,sFAEnBC,IAAQ,CAACC,MAAkC;AACtD,MAAIH,IAA6B,EAAC,UAAUG,GAAM,QAAQA,GAAM,eAAe,IAAM,SAAS,CAAA,GAAI,SAAS,CAAE,EAAA;AAEzG,MAAA;AACF,WAAAH,EAAU,UAAUG,EAAK,MAAMF,CAAuB,KAAK,CAAA,GAC3DD,IAAYD,EAAmBC,CAAS,GAEjCA;AAAA,WACAI;AACP,mBAAQ,MAAMA,CAAK,GACnBJ,EAAU,gBAAgB,IACnBA;AAAA,EACT;AACF;AAAA,CChBC,YAAY;AAWL,QAAAK,IAASH,EAVE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUY;AAC7B,UAAQ,IAAIG,CAAM;AACpB,GAAG;"}